var Wr=Object.defineProperty;var Ki=(e,t,r)=>t in e?Wr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Se=(e,t)=>()=>(e&&(t=e(e=0)),t);var Yi=(e,t)=>{for(var r in t)Wr(e,r,{get:t[r],enumerable:!0})};var c=(e,t,r)=>Ki(e,typeof t!="symbol"?t+"":t,r);var H,er=Se(()=>{H=e=>new TextEncoder().encode(e)});var Q,dn=Se(()=>{er();Q=e=>typeof e=="string"?H(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)});var oe,fn=Se(()=>{oe=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)}});var G=Se(()=>{er();dn();fn()});var pr,$n=Se(()=>{G();pr=class{constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:o,defaultContentType:s}){c(this,"marshaller");c(this,"serializer");c(this,"deserializer");c(this,"serdeContext");c(this,"defaultContentType");this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=o,this.defaultContentType=s}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let o=this.marshaller,s=r.getEventStreamMember(),i=r.getMemberSchema(s),a=this.serializer,p=this.defaultContentType,u=Symbol("initialRequestMarker"),l={async*[Symbol.asyncIterator](){if(n){let d={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:p}};a.write(r,n);let f=a.flush();yield{[u]:!0,headers:d,body:f}}for await(let d of t)yield d}};return o.serialize(l,d=>{if(d[u])return{headers:d.headers,body:d.body};let f=Object.keys(d).find(S=>S!=="__type")??"",{additionalHeaders:m,body:h,eventType:g,explicitPayloadContentType:y}=this.writeEventBody(f,i,d);return{headers:{":event-type":{type:"string",value:g},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:y??p},...m},body:h}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let o=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),p=Symbol("initialResponseMarker"),u=o.deserialize(t.body,async f=>{let m=Object.keys(f).find(g=>g!=="__type")??"",h=f[m].body;if(m==="initial-response"){let g=await this.deserializer.read(r,h);return delete g[s],{[p]:!0,...g}}else if(m in a){let g=a[m];if(g.isStructSchema()){let y={},x=!1;for(let[S,R]of g.structIterator()){let{eventHeader:A,eventPayload:$}=R.getMergedTraits();if(x=x||!!(A||$),$)R.isBlobSchema()?y[S]=h:R.isStringSchema()?y[S]=(this.serdeContext?.utf8Encoder??oe)(h):R.isStructSchema()&&(y[S]=await this.deserializer.read(R,h));else if(A){let P=f[m].headers[S]?.value;P!=null&&(R.isNumericSchema()?P&&typeof P=="object"&&"bytes"in P?y[S]=BigInt(P.toString()):y[S]=Number(P):y[S]=P)}}if(x)return{[m]:y};if(h.byteLength===0)return{[m]:{}}}return{[m]:await this.deserializer.read(g,h)}}else return{$unknown:f}}),l=u[Symbol.asyncIterator](),d=await l.next();if(d.done)return u;if(d.value?.[p]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[f,m]of Object.entries(d.value))n[f]=m}return{async*[Symbol.asyncIterator](){for(d?.value?.[p]||(yield d.value);;){let{done:f,value:m}=await l.next();if(f)break;yield m}}}}writeEventBody(t,r,n){let o=this.serializer,s=t,i=null,a,p=r.getSchema()[4].includes(t),u={};if(p){let f=r.getMemberSchema(t);if(f.isStructSchema()){for(let[m,h]of f.structIterator()){let{eventHeader:g,eventPayload:y}=h.getMergedTraits();if(y)i=m;else if(g){let x=n[t][m],S="binary";h.isNumericSchema()?(-2)**31<=x&&x<=2**31-1?S="integer":S="long":h.isTimestampSchema()?S="timestamp":h.isStringSchema()?S="string":h.isBooleanSchema()&&(S="boolean"),x!=null&&(u[m]={type:S,value:x},delete n[t][m])}}if(i!==null){let m=f.getMemberSchema(i);m.isBlobSchema()?a="application/octet-stream":m.isStringSchema()&&(a="text/plain"),o.write(m,n[t][i])}else o.write(f,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[f,m]=n[t];s=f,o.write(15,m)}let l=o.flush();return{body:typeof l=="string"?(this.serdeContext?.utf8Decoder??H)(l):l,eventType:s,explicitPayloadContentType:a,additionalHeaders:u}}}});var Ln={};Yi(Ln,{EventStreamSerde:()=>pr});var Nn=Se(()=>{$n()});var Kr=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),Yr=e=>({httpHandler:e.httpHandler()});var Ee;(function(e){e.HTTP="http",e.HTTPS="https"})(Ee||(Ee={}));var we;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(we||(we={}));var Me="__smithy_context";var _=class e{constructor(t){c(this,"method");c(this,"protocol");c(this,"hostname");c(this,"port");c(this,"path");c(this,"query");c(this,"headers");c(this,"username");c(this,"password");c(this,"fragment");c(this,"body");this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=Ji(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function Ji(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var k=class{constructor(t){c(this,"statusCode");c(this,"reason");c(this,"headers");c(this,"body");this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};var Qi=e=>t=>async r=>{if(!_.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},Xi={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Jr=e=>({applyToStack:t=>{t.add(Qi(e),Xi)}});var Zi=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:p,overrideOutputFilterSensitiveLog:u}=a,l=p??t.inputFilterSensitiveLog,d=u??t.outputFilterSensitiveLog,{$metadata:f,...m}=n.output;return i?.info?.({clientName:o,commandName:s,input:l(r.input),output:d(m),metadata:f}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:p}=a,u=p??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:u(r.input),error:n,metadata:n.$metadata}),n}},ea={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Qr=e=>({applyToStack:t=>{t.add(Zi(),ea)}});var Xr={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var Zr=()=>e=>async t=>e(t);var en=e=>({applyToStack:t=>{t.add(Zr(),Xr)}});var F=e=>e[Me]||(e[Me]={});var U=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};var tn=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r};function ta(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var rn=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=tn(s,i),p=ta(e.httpAuthSchemes),u=F(n),l=[];for(let d of a){let f=p.get(d.schemeId);if(!f){l.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let m=f.identityProvider(await t.identityProviderConfigProvider(e));if(!m){l.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:h={},signingProperties:g={}}=d.propertiesExtractor?.(e,n)||{};d.identityProperties=Object.assign(d.identityProperties||{},h),d.signingProperties=Object.assign(d.signingProperties||{},g),u.selectedHttpAuthScheme={httpAuthOption:d,identity:await m(d.identityProperties),signer:f.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(l.join(`
`));return r(o)};var ra={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},nn=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(rn(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),ra)}});var on={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};var na=e=>t=>{throw t},oa=(e,t)=>{},sn=e=>(t,r)=>async n=>{if(!_.isInstance(n.request))return t(n);let s=F(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:p}=s,u=await t({...n,request:await p.sign(n.request,a,i)}).catch((p.errorHandler||na)(i));return(p.successHandler||oa)(u.response,i),u};var sa={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},an=e=>({applyToStack:t=>{t.addRelativeTo(sn(e),sa)}});var ue=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};var cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zt=Object.entries(cn).reduce((e,[t,r])=>(e[r]=Number(t),e),{}),un=cn.split(""),re=6,pe=8,pn=63;var ne=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;let r=new ArrayBuffer(t),n=new DataView(r);for(let o=0;o<e.length;o+=4){let s=0,i=0;for(let u=o,l=o+3;u<=l;u++)if(e[u]!=="="){if(!(e[u]in Zt))throw new TypeError(`Invalid character ${e[u]} in base64 string.`);s|=Zt[e[u]]<<(l-u)*re,i+=re}else s>>=re;let a=o/4*3;s>>=i%pe;let p=Math.floor(i/pe);for(let u=0;u<p;u++){let l=(p-u-1)*pe;n.setUint8(a+u,(s&255<<l)>>l)}}return new Uint8Array(r)};G();function de(e){let t;typeof e=="string"?t=H(e):t=e;let r=typeof t=="object"&&typeof t.length=="number",n=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let o="";for(let s=0;s<t.length;s+=3){let i=0,a=0;for(let u=s,l=Math.min(s+3,t.length);u<l;u++)i|=t[u]<<(l-u-1)*pe,a+=pe;let p=Math.ceil(a/re);i<<=p*re-a;for(let u=1;u<=p;u++){let l=(p-u)*re;o+=un[(i&pn<<l)>>l]}o+="==".slice(0,4-p)}return o}G();var Re=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(ne(t)):e.mutate(H(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?de(this):oe(this)}};var q=e=>encodeURIComponent(e).replace(/[!'()*]/g,ia),ia=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function ln(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=q(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${q(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${q(n)}`),t.push(o)}}return t.join("&")}function tr(e,t){return new Request(e,t)}function mn(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var rr={supported:void 0},qe=class e{constructor(t){c(this,"config");c(this,"configProvider");typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),rr.supported===void 0&&(rr.supported=typeof Request<"u"&&"keepalive"in tr("https://[::1]"))}static create(t){return typeof t?.handle=="function"?t:new e(t)}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let S=new Error("Request aborted");return S.name="AbortError",Promise.reject(S)}let a=t.path,p=ln(t.query||{});p&&(a+=`?${p}`),t.fragment&&(a+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let S=t.username??"",R=t.password??"";u=`${S}:${R}@`}let{port:l,method:d}=t,f=`${t.protocol}//${u}${t.hostname}${l?`:${l}`:""}${a}`,m=d==="GET"||d==="HEAD"?void 0:t.body,h={body:m,headers:new Headers(t.headers),method:d,credentials:i};this.config?.cache&&(h.cache=this.config.cache),m&&(h.duplex="half"),typeof AbortController<"u"&&(h.signal=r),rr.supported&&(h.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(h,this.config.requestInit(t));let g=()=>{},y=tr(f,h),x=[fetch(y).then(S=>{let R=S.headers,A={};for(let P of R.entries())A[P[0]]=P[1];return S.body!=null?{response:new k({headers:A,reason:S.statusText,statusCode:S.status,body:S.body})}:S.blob().then(P=>({response:new k({headers:A,reason:S.statusText,statusCode:S.status,body:P})}))}),mn(o)];return r&&x.push(new Promise((S,R)=>{let A=()=>{let $=new Error("Request aborted");$.name="AbortError",R($)};if(typeof r.addEventListener=="function"){let $=r;$.addEventListener("abort",A,{once:!0}),g=()=>$.removeEventListener("abort",A)}else r.onabort=A})),Promise.race(x).finally(g)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}};var hn=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):aa(e):ca(e);async function aa(e){let t=await ua(e),r=ne(t);return new Uint8Array(r)}async function ca(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:p}=await r.read();p&&(t.push(p),o+=p.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}function ua(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}var gn={},nr={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),gn[e]=t,nr[t]=e}function yn(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in nr)t[r/2]=nr[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function j(e){let t="";for(let r=0;r<e.byteLength;r++)t+=gn[e[r]];return t}var Ae=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Re.mutate(e);if(!e)return Re.mutate(new Uint8Array);let r=t.streamCollector(e);return Re.mutate(await r)};var be=e=>typeof e=="function"?e():e;var We=(e,t,r,n,o)=>({name:t,namespace:e,traits:r,input:n,output:o});var xn=e=>(t,r)=>async n=>{let{response:o}=await t(n),{operationSchema:s}=F(r),[,i,a,p,u,l]=s??[];try{let d=await e.protocol.deserializeResponse(We(i,a,p,u,l),{...e,...r},o);return{response:o,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in d)){let f="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+f}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(f):r.logger?.warn?.(f)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText);try{if(k.isInstance(o)){let{headers:m={}}=o,h=Object.entries(m);d.$metadata={httpStatusCode:o.statusCode,requestId:or(/^x-[\w-]+-request-?id$/,h),extendedRequestId:or(/^x-[\w-]+-id-2$/,h),cfId:or(/^x-[\w-]+-cf-id$/,h)}}}catch{}}throw d}},or=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1];var Sn=e=>(t,r)=>async n=>{let{operationSchema:o}=F(r),[,s,i,a,p,u]=o??[],l=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,d=await e.protocol.serializeRequest(We(s,i,a,p,u),n.input,{...e,...r,endpoint:l});return t({...n,request:d})};var pa={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},da={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function En(e){return{applyToStack:t=>{t.add(Sn(e),da),t.add(xn(e),pa),e.protocol.setSerdeContext(e)}}}function fe(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var wn={it:Symbol.for("@smithy/nor-struct-it")},se=class se{constructor(t,r){c(this,"ref");c(this,"memberName");c(this,"symbol",se.symbol);c(this,"name");c(this,"schema");c(this,"_isMemberSchema");c(this,"traits");c(this,"memberTraits");c(this,"normalizedTraits");this.ref=t,this.memberName=r;let n=[],o=t,s=t;for(this._isMemberSchema=!1;sr(o);)n.push(o[1]),o=o[0],s=be(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,fe(a))}}else this.memberTraits=0;if(s instanceof se){let i=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},i,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=be(s),fa(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=be(t);if(r instanceof se)return r;if(sr(r)){let[n,o]=r;if(n instanceof se)return Object.assign(n.getMergedTraits(),fe(o)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new se(r)}getSchema(){let t=this.schema;return Array.isArray(t)&&t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let t=this.getSchema();if(typeof t!="object")return!1;let r=t[0];return r===3||r===-3||r===4}isUnionSchema(){let t=this.getSchema();return typeof t!="object"?!1:t[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){return!!this.getMergedTraits().idempotencyToken}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return fe(this.memberTraits)}getOwnTraits(){return fe(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),o=t?15:n[4]??0;return $e([o,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,o]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||o)?t[3+t[0]]:r?15:void 0;if(s!=null)return $e([s,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),o=r[5][n];return $e(sr(o)?o:[o,0],t)}if(this.isDocumentSchema())return $e([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema(),r=t[4].length,n=t[wn.it];if(n&&r===n.length){yield*n;return}n=Array(r);for(let o=0;o<r;++o){let s=t[4][o],i=$e([t[5][o],0],s);yield n[o]=[s,i]}t[wn.it]=n}};c(se,"symbol",Symbol.for("@smithy/nor"));var T=se;function $e(e,t){if(e instanceof T)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=T;return new r(e,t)}var sr=e=>Array.isArray(e)&&e.length===2,fa=e=>Array.isArray(e)&&e.length>=5;var W=class W{constructor(t,r=new Map,n=new Map){c(this,"namespace");c(this,"schemas");c(this,"exceptions");this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return W.registries.has(t)||W.registries.set(t,new W(t)),W.registries.get(t)}copyFrom(t){let{schemas:r,exceptions:n}=this;for(let[o,s]of t.schemas)r.has(o)||r.set(o,s);for(let[o,s]of t.exceptions)n.has(o)||n.set(o,s)}register(t,r){let n=this.normalizeShapeId(t);for(let o of[this,W.for(n.split("#")[0])])o.schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,o=n[1];for(let s of[this,W.for(o)])s.schemas.set(o+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(t){let r=t;return this.exceptions.has(r)?this.exceptions.get(r):W.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,o=r+"#"+n;if(o.startsWith("smithy.ts.sdk.synthetic.")&&o.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}};c(W,"registries",new Map);var z=W;var ir=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&xa.warn(ya(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},la=Math.ceil(34028234663852886e22),Rn=e=>{let t=ir(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>la)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},ma=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};var An=e=>_n(e,16),bn=e=>_n(e,8),_n=(e,t)=>{let r=ma(e);if(r!==void 0&&ha(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},ha=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}};var Tn=e=>ir(typeof e=="string"?Ke(e):e);var vn=e=>Rn(typeof e=="string"?Ke(e):e),ga=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Ke=e=>{let t=e.match(ga);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)};var Le=e=>An(typeof e=="string"?Ke(e):e),Cn=e=>bn(typeof e=="string"?Ke(e):e),ya=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),xa={warn:console.warn};var Sa=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],cr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Dn(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),p=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,d=a<10?`0${a}`:`${a}`;return`${Sa[n]}, ${p} ${cr[r]} ${t} ${u}:${l}:${d} GMT`}var gf=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var Ea=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),In=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Ea.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,p,u,l]=t,d=Le(Ne(n)),f=ie(o,"month",1,12),m=ie(s,"day",1,31),h=Ye(d,f,m,{hours:i,minutes:a,seconds:p,fractionalMilliseconds:u});return l.toUpperCase()!="Z"&&h.setTime(h.getTime()-Pa(l)),h},wa=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Ra=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Aa=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Pn=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=wa.exec(e);if(t){let[r,n,o,s,i,a,p,u]=t;return Ye(Le(Ne(s)),ar(o),ie(n,"day",1,31),{hours:i,minutes:a,seconds:p,fractionalMilliseconds:u})}if(t=Ra.exec(e),t){let[r,n,o,s,i,a,p,u]=t;return Ta(Ye(ba(s),ar(o),ie(n,"day",1,31),{hours:i,minutes:a,seconds:p,fractionalMilliseconds:u}))}if(t=Aa.exec(e),t){let[r,n,o,s,i,a,p,u]=t;return Ye(Le(Ne(u)),ar(n),ie(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:p})}throw new TypeError("Invalid RFC-7231 date-time value")},On=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Tn(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Ye=(e,t,r,n)=>{let o=t-1;return Ca(e,o,r),new Date(Date.UTC(e,o,r,ie(n.hours,"hour",0,23),ie(n.minutes,"minute",0,59),ie(n.seconds,"seconds",0,60),Ia(n.fractionalMilliseconds)))},ba=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Le(Ne(e));return r<t?r+100:r},_a=50*365*24*60*60*1e3,Ta=e=>e.getTime()-new Date().getTime()>_a?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,ar=e=>{let t=cr.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},va=[31,28,31,30,31,30,31,31,30,31,30,31],Ca=(e,t,r)=>{let n=va[t];if(t===1&&Da(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${cr[t]} in ${e}: ${r}`)},Da=e=>e%4===0&&(e%100!==0||e%400===0),ie=(e,t,r,n)=>{let o=Cn(Ne(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},Ia=e=>e==null?0:vn("0."+e)*1e3,Pa=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Ne=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};var ur=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var O=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),ke=()=>{if(ur)return ur();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,O[e[0]]+O[e[1]]+O[e[2]]+O[e[3]]+"-"+O[e[4]]+O[e[5]]+"-"+O[e[6]]+O[e[7]]+"-"+O[e[8]]+O[e[9]]+"-"+O[e[10]]+O[e[11]]+O[e[12]]+O[e[13]]+O[e[14]]+O[e[15]]};var K=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};K.from=e=>e&&typeof e=="object"&&(e instanceof K||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?K(String(e)):K(JSON.stringify(e));K.fromObject=K.from;var Mn=/^-?\d*(\.\d+)?$/,L=class e{constructor(t,r){c(this,"string");c(this,"type");if(this.string=t,this.type=r,!Mn.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&Mn.test(r.string)}};var Je=class{constructor(){c(this,"serdeContext")}setSerdeContext(t){this.serdeContext=t}};var Qe=class extends Je{constructor(r){super();c(this,"options");c(this,"compositeErrorRegistry");this.options=r,this.compositeErrorRegistry=z.for(r.defaultNamespace);for(let n of r.errorTypeRegistries??[])this.compositeErrorRegistry.copyFrom(n)}getRequestType(){return _}getResponseType(){return k}setSerdeContext(r){this.serdeContext=r,this.serializer.setSerdeContext(r),this.deserializer.setSerdeContext(r),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(r)}updateServiceEndpoint(r,n){if("url"in n){r.protocol=n.url.protocol,r.hostname=n.url.hostname,r.port=n.url.port?Number(n.url.port):void 0,r.path=n.url.pathname,r.fragment=n.url.hash||void 0,r.username=n.url.username||void 0,r.password=n.url.password||void 0,r.query||(r.query={});for(let[o,s]of n.url.searchParams.entries())r.query[o]=s;return r}else return r.protocol=n.protocol,r.hostname=n.hostname,r.port=n.port?Number(n.port):void 0,r.path=n.path,r.query={...n.query},r}setHostPrefix(r,n,o){if(this.serdeContext?.disableHostPrefix)return;let s=T.of(n.input),i=fe(n.traits??{});if(i.endpoint){let a=i.endpoint?.[0];if(typeof a=="string"){let p=[...s.structIterator()].filter(([,u])=>u.getMergedTraits().hostLabel);for(let[u]of p){let l=o[u];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${u} in input must be a string as hostLabel.`);a=a.replace(`{${u}}`,l)}r.hostname=a+r.hostname}}}deserializeMetadata(r){return{httpStatusCode:r.statusCode,requestId:r.headers["x-amzn-requestid"]??r.headers["x-amzn-request-id"]??r.headers["x-amz-request-id"],extendedRequestId:r.headers["x-amz-id-2"],cfId:r.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:r,requestSchema:n,initialRequest:o}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:r,requestSchema:n,initialRequest:o})}async deserializeEventStream({response:r,responseSchema:n,initialResponseContainer:o}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:r,responseSchema:n,initialResponseContainer:o})}async loadEventStreamCapability(){let{EventStreamSerde:r}=await Promise.resolve().then(()=>(Nn(),Ln));return new r({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(r,n,o,s,i){return[]}getEventStreamMarshaller(){let r=this.serdeContext;if(!r.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return r.eventStreamMarshaller}};var Xe=class extends Qe{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),p=T.of(t?.input),u=p.getSchema(),l,d=new _({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(d,a),this.setHostPrefix(d,t,r));let f={...r};if(r){let m=p.getEventStreamMember();if(m){if(f[m]){let h={};for(let[g,y]of p.structIterator())g!==m&&f[g]&&(o.write(y,f[g]),h[g]=o.flush());l=await this.serializeEventStream({eventStream:f[m],requestSchema:p,initialRequest:h})}}else o.write(u,f),l=o.flush()}return d.headers=i,d.query=s,d.body=l,d.method="POST",d}async deserializeResponse(t,r,n){let o=this.deserializer,s=T.of(t.output),i={};if(n.statusCode>=300){let p=await Ae(n.body,r);throw p.byteLength>0&&Object.assign(i,await o.read(15,p)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let p in n.headers){let u=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=u}let a=s.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:s,initialResponseContainer:i});else{let p=await Ae(n.body,r);p.byteLength>0&&Object.assign(i,await o.read(s,p))}return i.$metadata=this.deserializeMetadata(n),i}};function Ze(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?6:s||r?5:void 0:void 0)??t.timestampFormat.default}function kn(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var et=class{constructor(t){c(this,"authSchemes",new Map);for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}};var Oa=e=>function(r){return dr(r)&&r.expiration.getTime()-Date.now()<e};var Un=Oa(3e5),dr=e=>e.expiration!==void 0,Hn=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,p=async u=>{s||(s=n(u));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async u=>((!i||u?.forceRefresh)&&(o=await p(u)),o):async u=>((!i||u?.forceRefresh)&&(o=await p(u)),a?o:r(o)?(t(o)&&await p(u),o):(a=!0,o))};var Ma=void 0;function $a(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function Fn(e){let t=ue(e.userAgentAppId??Ma),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!$a(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var tt=class{constructor({size:t,params:r}){c(this,"capacity");c(this,"data",new Map);c(this,"parameters",[]);this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let o=this.data.keys(),s=0;for(;;){let{value:i,done:a}=o.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let o of n){let s=String(t[o]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}};var La=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Ue=e=>La.test(e)||e.startsWith("[")&&e.endsWith("]");var Na=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),le=(e,t=!1)=>{if(!t)return Na.test(e);let r=e.split(".");for(let n of r)if(!le(n))return!1;return!0};var me={};var X="endpoints";function B(e){return typeof e!="object"||e==null?e:"ref"in e?`$${B(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(B).join(", ")})`:JSON.stringify(e,null,2)}var w=class extends Error{constructor(t){super(t),this.name="EndpointError"}};var jn=(e,t)=>e===t;var zn=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new w(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new w(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r};var rt=(e,t)=>zn(t).reduce((r,n)=>{if(typeof r!="object")throw new w(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e);var Bn=e=>e!=null;var Gn=e=>!e;var fr={[Ee.HTTP]:80,[Ee.HTTPS]:443},Vn=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:f,port:m,protocol:h="",path:g="",query:y={}}=e,x=new URL(`${h}//${f}${m?`:${m}`:""}${g}`);return x.search=Object.entries(y).map(([S,R])=>`${S}=${R}`).join("&"),x}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let p=i.slice(0,-1);if(!Object.values(Ee).includes(p))return null;let u=Ue(o),l=r.includes(`${n}:${fr[p]}`)||typeof e=="string"&&e.includes(`${n}:${fr[p]}`),d=`${n}${l?`:${fr[p]}`:""}`;return{scheme:p,authority:d,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}};var qn=(e,t)=>e===t;var Wn=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r);var Kn=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);var Yn={booleanEquals:jn,getAttr:rt,isSet:Bn,isValidHostLabel:le,not:Gn,parseURL:Vn,stringEquals:qn,substring:Wn,uriEncode:Kn};var nt=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[p,u]=a.split("#");r.push(rt(n[p],u))}else r.push(n[a]);o=i+1}return r.join("")};var Jn=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];var he=(e,t,r)=>{if(typeof e=="string")return nt(e,r);if(e.fn)return Qn.callFunction(e,r);if(e.ref)return Jn(e,r);throw new w(`'${t}': ${String(e)} is not a string, function or reference.`)},ot=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:Qn.evaluateExpression(s,"arg",r)),o=e.split(".");return o[0]in me&&o[1]!=null?me[o[0]][o[1]](...n):Yn[e](...n)},Qn={evaluateExpression:he,callFunction:ot};var Xn=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new w(`'${e}' is already defined in Reference Record.`);let n=ot(t,r);return r.logger?.debug?.(`${X} evaluateCondition: ${B(t)} = ${B(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}};var _e=(e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=Xn(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${X} assign: ${s.name} := ${B(s.value)}`))}return{result:!0,referenceRecord:r}};var Zn=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=he(s,"Header value entry",t);if(typeof i!="string")throw new w(`Header '${n}' value '${i}' is not a string`);return i})}),{});var lr=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:to.getEndpointProperty(o,t)}),{}),eo=(e,t)=>{if(Array.isArray(e))return e.map(r=>eo(r,t));switch(typeof e){case"string":return nt(e,t);case"object":if(e===null)throw new w(`Unexpected endpoint property: ${e}`);return to.getEndpointProperties(e,t);case"boolean":return e;default:throw new w(`Unexpected endpoint property type: ${typeof e}`)}},to={getEndpointProperty:eo,getEndpointProperties:lr};var ro=(e,t)=>{let r=he(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new w(`Endpoint URL must be a string, got ${typeof r}`)};var no=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=_e(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:p,headers:u}=n;return t.logger?.debug?.(`${X} Resolving endpoint from template: ${B(n)}`),{...u!=null&&{headers:Zn(u,i)},...p!=null&&{properties:lr(p,i)},url:ro(a,i)}};var oo=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=_e(r,t);if(o)throw new w(he(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))};var mr=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=no(r,t);if(n)return n}else if(r.type==="error")oo(r,t);else if(r.type==="tree"){let n=so.evaluateTreeRule(r,t);if(n)return n}else throw new w(`Unknown endpoint rule: ${r}`);throw new w("Rules evaluation failed")},ka=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=_e(r,t);if(o)return so.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},so={evaluateRules:mr,evaluateTreeRule:ka};var io=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${X} Initial EndpointParams: ${B(r)}`);let i=Object.entries(o).filter(([,u])=>u.default!=null).map(([u,l])=>[u,l.default]);if(i.length>0)for(let[u,l]of i)r[u]=r[u]??l;let a=Object.entries(o).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(r[u]==null)throw new w(`Missing required parameter: '${u}'`);let p=mr(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${X} Resolved endpoint: ${B(p)}`),p};var hr=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!hr(r))return!1;return!0}return!(!le(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Ue(e))};var ao=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(":")==="")return null;let p=a.map(u=>u.split("/")).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:p}};var co={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"};var Ha=co,Fa="",uo=e=>{let{partitions:t}=Ha;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}};var po=()=>Fa;var gr={isVirtualHostableS3Bucket:hr,parseArn:ao,partition:uo};me.aws=gr;function fo(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}var Te=e=>{if(typeof e=="string")return Te(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=fo(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};function lo(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}function V(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var yr=e=>k.isInstance(e)?e.headers?.date??e.headers?.Date:void 0;var st=e=>new Date(Date.now()+e);var mo=(e,t)=>Math.abs(st(t).getTime()-e)>=3e5;var xr=(e,t)=>{let r=Date.parse(e);return mo(r,t)?r-Date.now():t};var He=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},ho=async e=>{let t=He("context",e.context),r=He("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await He("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,p=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:p}},Fe=class{async sign(t,r,n){if(!_.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await ho(n),{config:s,signer:i}=o,{signingRegion:a,signingName:p}=o,u=n.context;if(u?.authSchemes?.length??!1){let[d,f]=u.authSchemes;d?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,p=f?.signingName??p)}return await i.sign(t,{signingDate:st(s.systemClockOffset),signingRegion:a,signingService:p})}errorHandler(t){return r=>{let n=r.ServerTime??yr(r.$response);if(n){let o=He("config",t.config),s=o.systemClockOffset;o.systemClockOffset=xr(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=yr(t);if(n){let o=He("config",r.config);o.systemClockOffset=xr(n,o.systemClockOffset)}}};var go=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async p=>((!s||p?.forceRefresh)&&(n=await a()),n):async p=>((!s||p?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};G();var yo="X-Amz-Algorithm",xo="X-Amz-Credential",Sr="X-Amz-Date",So="X-Amz-SignedHeaders",Eo="X-Amz-Expires",Er="X-Amz-Signature",wr="X-Amz-Security-Token";var Rr="authorization",Ar=Sr.toLowerCase(),ja="date",wo=[Rr,Ar,ja],Ro=Er.toLowerCase(),je="x-amz-content-sha256",Ao=wr.toLowerCase();var bo={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},_o=/^proxy-/,To=/^sec-/;var it="AWS4-HMAC-SHA256";var vo="AWS4-HMAC-SHA256-PAYLOAD",Co="UNSIGNED-PAYLOAD",Do=50,br="aws4_request",Io=3600*24*7;G();var at={},_r=[],ct=(e,t,r)=>`${e}/${t}/${r}/${br}`,Oo=async(e,t,r,n,o)=>{let s=await Po(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${j(s)}:${t.sessionToken}`;if(i in at)return at[i];for(_r.push(i);_r.length>Do;)delete at[_r.shift()];let a=`AWS4${t.secretAccessKey}`;for(let p of[r,n,o,br])a=await Po(e,a,p);return at[i]=a};var Po=(e,t,r)=>{let n=new e(t);return n.update(Q(r)),n.digest()};var Tr=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in bo||t?.has(s)||_o.test(s)||To.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n};var Mo=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";G();var ut=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===je)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Mo(t)){let n=new r;return n.update(Q(t)),j(await n.digest())}return Co};G();var pt=class{format(t){let r=[];for(let s of Object.keys(t)){let i=H(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=H(t.value),p=new DataView(new ArrayBuffer(3+a.byteLength));p.setUint8(0,7),p.setUint16(1,a.byteLength,!1);let u=new Uint8Array(p.buffer);return u.set(a,3),u;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(vr.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!za.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(yn(t.value.replace(/\-/g,"")),1),d}}},$o;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})($o||($o={}));var za=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,vr=class e{constructor(t){c(this,"bytes");if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Lo(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Lo(t),parseInt(j(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Lo(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var No=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1};var ko=(e,t={})=>{let{headers:r,query:n={}}=_.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}};var Cr=e=>{e=_.clone(e);for(let t of Object.keys(e.headers))wo.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};G();var Uo=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===Ro)continue;let o=q(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${q(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${q(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")};var Ho=e=>Ba(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Ba=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;var dt=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){c(this,"service");c(this,"regionProvider");c(this,"credentialProvider");c(this,"sha256");c(this,"uriEscapePath");c(this,"applyChecksum");this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=U(n),this.credentialProvider=U(r)}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Uo(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n,o){let s=new this.sha256;s.update(Q(n));let i=await s.digest();return`${o}
${t}
${r}
${j(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return q(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=Ho(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}};var ze=class extends dt{constructor({applyChecksum:r,credentials:n,region:o,service:s,sha256:i,uriEscapePath:a=!0}){super({applyChecksum:r,credentials:n,region:o,service:s,sha256:i,uriEscapePath:a});c(this,"headerFormatter",new pt)}async presign(r,n={}){let{signingDate:o=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:a,signableHeaders:p,hoistableHeaders:u,signingRegion:l,signingService:d}=n,f=await this.credentialProvider();this.validateResolvedCredentials(f);let m=l??await this.regionProvider(),{longDate:h,shortDate:g}=this.formatDate(o);if(s>Io)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=ct(g,m,d??this.service),x=ko(Cr(r),{unhoistableHeaders:a,hoistableHeaders:u});f.sessionToken&&(x.query[wr]=f.sessionToken),x.query[yo]=it,x.query[xo]=`${f.accessKeyId}/${y}`,x.query[Sr]=h,x.query[Eo]=s.toString(10);let S=Tr(x,i,p);return x.query[So]=this.getCanonicalHeaderList(S),x.query[Er]=await this.getSignature(h,y,this.getSigningKey(f,m,g,d),this.createCanonicalRequest(x,S,await ut(r,this.sha256))),x}async sign(r,n){return typeof r=="string"?this.signString(r,n):r.headers&&r.payload?this.signEvent(r,n):r.message?this.signMessage(r,n):this.signRequest(r,n)}async signEvent({headers:r,payload:n},{signingDate:o=new Date,priorSignature:s,signingRegion:i,signingService:a}){let p=i??await this.regionProvider(),{shortDate:u,longDate:l}=this.formatDate(o),d=ct(u,p,a??this.service),f=await ut({headers:{},body:n},this.sha256),m=new this.sha256;m.update(r);let h=j(await m.digest()),g=[vo,l,d,s,h,f].join(`
`);return this.signString(g,{signingDate:o,signingRegion:p,signingService:a})}async signMessage(r,{signingDate:n=new Date,signingRegion:o,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(r.message.headers),payload:r.message.body},{signingDate:n,signingRegion:o,signingService:s,priorSignature:r.priorSignature}).then(a=>({message:r.message,signature:a}))}async signString(r,{signingDate:n=new Date,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=o??await this.regionProvider(),{shortDate:p}=this.formatDate(n),u=new this.sha256(await this.getSigningKey(i,a,p,s));return u.update(Q(r)),j(await u.digest())}async signRequest(r,{signingDate:n=new Date,signableHeaders:o,unsignableHeaders:s,signingRegion:i,signingService:a}={}){let p=await this.credentialProvider();this.validateResolvedCredentials(p);let u=i??await this.regionProvider(),l=Cr(r),{longDate:d,shortDate:f}=this.formatDate(n),m=ct(f,u,a??this.service);l.headers[Ar]=d,p.sessionToken&&(l.headers[Ao]=p.sessionToken);let h=await ut(l,this.sha256);!No(je,l.headers)&&this.applyChecksum&&(l.headers[je]=h);let g=Tr(l,s,o),y=await this.getSignature(d,m,this.getSigningKey(p,u,f,a),this.createCanonicalRequest(l,g,h));return l.headers[Rr]=`${it} Credential=${p.accessKeyId}/${m}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${y}`,l}async getSignature(r,n,o,s){let i=await this.createStringToSign(r,n,s,it),a=new this.sha256(await o);return a.update(Q(i)),j(await a.digest())}getSigningKey(r,n,o,s){return Oo(this.sha256,r,o,n,s||this.service)}};var Fo=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==n&&(r=!0),t=u;let l=Ga(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),d=Va(e,l);if(r&&!d.attributed){let f=typeof t=="object"&&t!==null;n=async m=>{let g=await d(m);return f&&(!g.$source||Object.keys(g.$source).length===0)?lo(g,"CREDENTIALS_CODE","e"):g},n.memoized=d.memoized,n.configBound=d.configBound,n.attributed=!0}else n=d},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=ue(e.signer):e.regionInfoProvider?a=()=>ue(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,l])=>{let{signingRegion:d,signingService:f}=u;e.signingRegion=e.signingRegion||d||l,e.signingName=e.signingName||f||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},h=e.signerConstructor||ze;return new h(m)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await ue(e.region)(),properties:{}},u);let l=u.signingRegion,d=u.signingName;e.signingRegion=e.signingRegion||l,e.signingName=e.signingName||d||e.serviceId;let f={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},m=e.signerConstructor||ze;return new m(f)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})};function Ga(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Hn(t,Un,dr):r?n=ue(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Va(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var jo=typeof TextEncoder=="function"?new TextEncoder:null,zo=e=>{if(typeof e=="string"){if(jo)return jo.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)};var ge=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},ae=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,ve=()=>{let e=[],t=[],r=!1,n=new Set,o=d=>d.sort((f,m)=>Bo[m.step]-Bo[f.step]||Go[m.priority||"normal"]-Go[f.priority||"normal"]),s=d=>{let f=!1,m=h=>{let g=ge(h.name,h.aliases);if(g.includes(d)){f=!0;for(let y of g)n.delete(y);return!1}return!0};return e=e.filter(m),t=t.filter(m),f},i=d=>{let f=!1,m=h=>{if(h.middleware===d){f=!0;for(let g of ge(h.name,h.aliases))n.delete(g);return!1}return!0};return e=e.filter(m),t=t.filter(m),f},a=d=>(e.forEach(f=>{d.add(f.middleware,{...f})}),t.forEach(f=>{d.addRelativeTo(f.middleware,{...f})}),d.identifyOnResolve?.(l.identifyOnResolve()),d),p=d=>{let f=[];return d.before.forEach(m=>{m.before.length===0&&m.after.length===0?f.push(m):f.push(...p(m))}),f.push(d),d.after.reverse().forEach(m=>{m.before.length===0&&m.after.length===0?f.push(m):f.push(...p(m))}),f},u=(d=!1)=>{let f=[],m=[],h={};return e.forEach(y=>{let x={...y,before:[],after:[]};for(let S of ge(x.name,x.aliases))h[S]=x;f.push(x)}),t.forEach(y=>{let x={...y,before:[],after:[]};for(let S of ge(x.name,x.aliases))h[S]=x;m.push(x)}),m.forEach(y=>{if(y.toMiddleware){let x=h[y.toMiddleware];if(x===void 0){if(d)return;throw new Error(`${y.toMiddleware} is not found when adding ${ae(y.name,y.aliases)} middleware ${y.relation} ${y.toMiddleware}`)}y.relation==="after"&&x.after.push(y),y.relation==="before"&&x.before.push(y)}}),o(f).map(p).reduce((y,x)=>(y.push(...x),y),[])},l={add:(d,f={})=>{let{name:m,override:h,aliases:g}=f,y={step:"initialize",priority:"normal",middleware:d,...f},x=ge(m,g);if(x.length>0){if(x.some(S=>n.has(S))){if(!h)throw new Error(`Duplicate middleware name '${ae(m,g)}'`);for(let S of x){let R=e.findIndex($=>$.name===S||$.aliases?.some(P=>P===S));if(R===-1)continue;let A=e[R];if(A.step!==y.step||y.priority!==A.priority)throw new Error(`"${ae(A.name,A.aliases)}" middleware with ${A.priority} priority in ${A.step} step cannot be overridden by "${ae(m,g)}" middleware with ${y.priority} priority in ${y.step} step.`);e.splice(R,1)}}for(let S of x)n.add(S)}e.push(y)},addRelativeTo:(d,f)=>{let{name:m,override:h,aliases:g}=f,y={middleware:d,...f},x=ge(m,g);if(x.length>0){if(x.some(S=>n.has(S))){if(!h)throw new Error(`Duplicate middleware name '${ae(m,g)}'`);for(let S of x){let R=t.findIndex($=>$.name===S||$.aliases?.some(P=>P===S));if(R===-1)continue;let A=t[R];if(A.toMiddleware!==y.toMiddleware||A.relation!==y.relation)throw new Error(`"${ae(A.name,A.aliases)}" middleware ${A.relation} "${A.toMiddleware}" middleware cannot be overridden by "${ae(m,g)}" middleware ${y.relation} "${y.toMiddleware}" middleware.`);t.splice(R,1)}}for(let S of x)n.add(S)}t.push(y)},clone:()=>a(ve()),use:d=>{d.applyToStack(l)},remove:d=>typeof d=="string"?s(d):i(d),removeByTag:d=>{let f=!1,m=h=>{let{tags:g,name:y,aliases:x}=h;if(g&&g.includes(d)){let S=ge(y,x);for(let R of S)n.delete(R);return f=!0,!1}return!0};return e=e.filter(m),t=t.filter(m),f},concat:d=>{let f=a(ve());return f.use(d),f.identifyOnResolve(r||f.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),f},applyToStack:a,identify:()=>u(!0).map(d=>{let f=d.step??d.relation+" "+d.toMiddleware;return ae(d.name,d.aliases)+" - "+f}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,f)=>{for(let m of u().map(h=>h.middleware).reverse())d=m(d,f);return r&&console.log(l.identify()),d}};return l},Bo={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Go={high:3,normal:2,low:1};var ft=class{constructor(t){c(this,"config");c(this,"middlewareStack",ve());c(this,"initConfig");c(this,"handlers");this.config=t;let{protocol:r,protocolSettings:n}=t;n&&typeof r=="function"&&(t.protocol=new r(n))}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=o===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let p=this.handlers;p.has(t.constructor)?a=p.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,o),p.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)a(t).then(p=>s(null,p.output),p=>s(p)).catch(()=>{});else return a(t).then(p=>p.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}};var Dr="***SensitiveInformation***";function lt(e,t){if(t==null)return t;let r=T.of(e);if(r.getMergedTraits().sensitive)return Dr;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Dr}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Dr}else if(r.isStructSchema()&&typeof t=="object"){let n=t,o={};for(let[s,i]of r.structIterator())n[s]!=null&&(o[s]=lt(i,n[s]));return o}return t}var ye=class{constructor(){c(this,"middlewareStack",ve());c(this,"schema")}static classBuilder(){return new Ir}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:p,smithyContext:u,additionalContext:l,CommandCtor:d}){for(let y of o.bind(this)(d,t,r,n))this.middlewareStack.use(y);let f=t.concat(this.middlewareStack),{logger:m}=r,h={logger:m,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:p,[Me]:{commandInstance:this,...u},...l},{requestHandler:g}=r;return f.resolve(y=>g.handle(y.request,n||{}),h)}},Ir=class{constructor(){c(this,"_init",()=>{});c(this,"_ep",{});c(this,"_middlewareFn",()=>[]);c(this,"_commandName","");c(this,"_clientName","");c(this,"_additionalContext",{});c(this,"_smithyContext",{});c(this,"_inputFilterSensitiveLog");c(this,"_outputFilterSensitiveLog");c(this,"_serializer",null);c(this,"_deserializer",null);c(this,"_operationSchema")}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends ye{constructor(...[o]){super();c(this,"input");c(this,"serialize",t._serializer);c(this,"deserialize",t._deserializer);this.input=o??{},t._init(this),this.schema=t._operationSchema}static getEndpointParameterInstructions(){return t._ep}resolveMiddleware(o,s,i){let a=t._operationSchema,p=a?.[4]??a?.input,u=a?.[5]??a?.output;return this.resolveMiddlewareWithContext(o,s,i,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(a?lt.bind(null,p):l=>l),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(a?lt.bind(null,u):l=>l),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}};var mt=class e extends Error{constructor(r){super(r.message);c(this,"$fault");c(this,"$response");c(this,"$retryable");c(this,"$metadata");Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=r.name,this.$fault=r.$fault,this.$metadata=r.$metadata}static isInstance(r){if(!r)return!1;let n=r;return e.prototype.isPrototypeOf(n)||!!n.$fault&&!!n.$metadata&&(n.$fault==="client"||n.$fault==="server")}static[Symbol.hasInstance](r){if(!r)return!1;let n=r;return this===e?e.isInstance(r):e.isInstance(r)?n.name&&this.name?this.prototype.isPrototypeOf(r)||n.name===this.name:this.prototype.isPrototypeOf(r):!1}},Pr=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e};var Vo=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var qo=e=>{let t=[];for(let r in we){let n=we[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},Wo=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t};var Ko=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),Yo=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t};var Jo=e=>Object.assign(qo(e),Ko(e));var Qo=e=>Object.assign(Wo(e),Yo(e));var Ce=class{trace(){}debug(){}info(){}warn(){}error(){}};var ht=class{constructor(t=!1){c(this,"queryCompat");this.queryCompat=t}resolveRestContentType(t,r){let n=r.getMemberSchemas(),o=Object.values(n).find(s=>!!s.getMergedTraits().httpPayload);if(o){let s=o.getMergedTraits().mediaType;return s||(o.isStringSchema()?"text/plain":o.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:p,httpHeader:u,httpLabel:l,httpPrefixHeaders:d}=i.getMergedTraits();return!a&&!p&&!u&&!l&&d===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,o,s,i){let a=r,p=t;t.includes("#")&&([a,p]=t.split("#"));let u={$metadata:s,$fault:n.statusCode<500?"client":"server"},l=z.for(a);try{return{errorSchema:i?.(l,p)??l.getSchema(t),errorMetadata:u}}catch{o.message=o.message??o.Message??"UnknownError";let f=z.for("smithy.ts.sdk.synthetic."+a),m=f.getBaseException();if(m){let h=f.getErrorCtor(m)??Error;throw this.decorateServiceException(Object.assign(new h({name:p}),u),o)}throw this.decorateServiceException(Object.assign(new Error(p),u),o)}}decorateServiceException(t,r={}){if(this.queryCompat){let n=t.Message??r.Message,o=Pr(t,r);n&&(o.message=n),o.Error={...o.Error,Type:o.Error.Type,Code:o.Error.Code,Message:o.Error.message??o.Error.Message??n};let s=o.$metadata.requestId;return s&&(o.RequestId=s),o}return Pr(t,r)}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[o,s]=n.split(";"),i=Object.entries(t),a={Code:o,Type:s};Object.assign(t,a);for(let[p,u]of i)a[p==="message"?"Message":p]=u;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(o=>T.of(o).getMergedTraits().awsQueryError?.[0]===r)}}};var ce=class{constructor(){c(this,"serdeContext")}setSerdeContext(t){this.serdeContext=t}};var gt=class{constructor(t,r){c(this,"from");c(this,"to");c(this,"keys");this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}};function Xo(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new L(n,"bigDecimal"):BigInt(n)}return t}G();var Zo=(e,t)=>Ae(e,t).then(r=>(t?.utf8Encoder??oe)(r));var es=(e,t)=>Zo(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}});var ts=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}};var yt=class extends ce{constructor(r){super();c(this,"settings");this.settings=r}async read(r,n){return this._read(r,typeof n=="string"?JSON.parse(n,Xo):await es(n,this.serdeContext))}readObject(r,n){return this._read(r,n)}_read(r,n){let o=n!==null&&typeof n=="object",s=T.of(r);if(o){if(s.isStructSchema()){let a=n,p=s.isUnionSchema(),u={},l,{jsonName:d}=this.settings;d&&(l={});let f;p&&(f=new gt(a,u));for(let[m,h]of s.structIterator()){let g=m;d&&(g=h.getMergedTraits().jsonName??g,l[g]=m),p&&f.mark(g),a[g]!=null&&(u[m]=this._read(h,a[g]))}if(p)f.writeUnknown();else if(typeof a.__type=="string")for(let[m,h]of Object.entries(a)){let g=d?l[m]??m:m;g in u||(u[g]=h)}return u}if(Array.isArray(n)&&s.isListSchema()){let a=s.getValueSchema(),p=[],u=!!s.getMergedTraits().sparse;for(let l of n)(u||l!=null)&&p.push(this._read(a,l));return p}if(s.isMapSchema()){let a=s.getValueSchema(),p={},u=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(n))(u||d!=null)&&(p[l]=this._read(a,d));return p}}if(s.isBlobSchema()&&typeof n=="string")return ne(n);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof n=="string"&&i)return i==="application/json"||i.endsWith("+json")?K.from(n):n;if(s.isTimestampSchema()&&n!=null)switch(Ze(s,this.settings)){case 5:return In(n);case 6:return Pn(n);case 7:return On(n);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",n),new Date(n)}if(s.isBigIntegerSchema()&&(typeof n=="number"||typeof n=="string"))return BigInt(n);if(s.isBigDecimalSchema()&&n!=null){if(n instanceof L)return n;let a=n;return a.type==="bigDecimal"&&"string"in a?new L(a.string,a.type):new L(String(n),"bigDecimal")}if(s.isNumericSchema()&&typeof n=="string"){switch(n){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return n}if(s.isDocumentSchema())if(o){let a=Array.isArray(n)?[]:{};for(let[p,u]of Object.entries(n))u instanceof L?a[p]=u:a[p]=this._read(s,u);return a}else return structuredClone(n);return n}};var rs="\u039D",xt=class{constructor(){c(this,"values",new Map);c(this,"counter",0);c(this,"stage",0)}createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof L){let n=`${rs+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${rs+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}};var St=class extends ce{constructor(r){super();c(this,"settings");c(this,"buffer");c(this,"useReplacer",!1);c(this,"rootSchema");this.settings=r}write(r,n){this.rootSchema=T.of(r),this.buffer=this._write(this.rootSchema,n)}writeDiscriminatedDocument(r,n){this.write(r,n),typeof this.buffer=="object"&&(this.buffer.__type=T.of(r).getName(!0))}flush(){let{rootSchema:r,useReplacer:n}=this;if(this.rootSchema=void 0,this.useReplacer=!1,r?.isStructSchema()||r?.isDocumentSchema()){if(!n)return JSON.stringify(this.buffer);let o=new xt;return o.replaceInJson(JSON.stringify(this.buffer,o.createReplacer(),0))}return this.buffer}_write(r,n,o){let s=n!==null&&typeof n=="object",i=T.of(r);if(s){if(i.isStructSchema()){let a=n,p={},{jsonName:u}=this.settings,l;u&&(l={});for(let[d,f]of i.structIterator()){let m=this._write(f,a[d],i);if(m!==void 0){let h=d;u&&(h=f.getMergedTraits().jsonName??d,l[d]=h),p[h]=m}}if(i.isUnionSchema()&&Object.keys(p).length===0){let{$unknown:d}=a;if(Array.isArray(d)){let[f,m]=d;p[f]=this._write(15,m)}}else if(typeof a.__type=="string")for(let[d,f]of Object.entries(a)){let m=u?l[d]??d:d;m in p||(p[m]=this._write(15,f))}return p}if(Array.isArray(n)&&i.isListSchema()){let a=i.getValueSchema(),p=[],u=!!i.getMergedTraits().sparse;for(let l of n)(u||l!=null)&&p.push(this._write(a,l));return p}if(i.isMapSchema()){let a=i.getValueSchema(),p={},u=!!i.getMergedTraits().sparse;for(let[l,d]of Object.entries(n))(u||d!=null)&&(p[l]=this._write(a,d));return p}if(n instanceof Uint8Array&&(i.isBlobSchema()||i.isDocumentSchema()))return i===this.rootSchema?n:(this.serdeContext?.base64Encoder??de)(n);if(n instanceof Date&&(i.isTimestampSchema()||i.isDocumentSchema()))switch(Ze(i,this.settings)){case 5:return n.toISOString().replace(".000Z","Z");case 6:return Dn(n);case 7:return n.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",n),n.getTime()/1e3}n instanceof L&&(this.useReplacer=!0)}if(!(n===null&&o?.isStructSchema())){if(i.isStringSchema()){if(typeof n>"u"&&i.isIdempotencyToken())return ke();let a=i.getMergedTraits().mediaType;return n!=null&&a&&(a==="application/json"||a.endsWith("+json"))?K.from(n):n}if(typeof n=="number"&&i.isNumericSchema())return Math.abs(n)===1/0||isNaN(n)?String(n):n;if(typeof n=="string"&&i.isBlobSchema())return i===this.rootSchema?n:(this.serdeContext?.base64Encoder??de)(n);if(typeof n=="bigint"&&(this.useReplacer=!0),i.isDocumentSchema())if(s){let a=Array.isArray(n)?[]:{};for(let[p,u]of Object.entries(n))u instanceof L?(this.useReplacer=!0,a[p]=u):a[p]=this._write(i,u);return a}else return structuredClone(n);return n}}};var Et=class extends ce{constructor(r){super();c(this,"settings");this.settings=r}createSerializer(){let r=new St(this.settings);return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new yt(this.settings);return r.setSerdeContext(this.serdeContext),r}};var wt=class extends Xe{constructor({defaultNamespace:r,serviceTarget:n,awsQueryCompatible:o,jsonCodec:s}){super({defaultNamespace:r});c(this,"serializer");c(this,"deserializer");c(this,"serviceTarget");c(this,"codec");c(this,"mixin");c(this,"awsQueryCompatible");this.serviceTarget=n,this.codec=s??new Et({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!o,this.mixin=new ht(this.awsQueryCompatible)}async serializeRequest(r,n,o){let s=await super.serializeRequest(r,n,o);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${r.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(be(r.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(r,n,o,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,o);let a=ts(o,s)??"Unknown",{errorSchema:p,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,o,s,i,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=T.of(p),d=s.message??s.Message??"Unknown",f=z.for(p[1]).getErrorCtor(p)??Error,m=new f(d),h={};for(let[g,y]of l.structIterator())s[g]!=null&&(h[g]=this.codec.createDeserializer().readObject(y,s[g]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),this.mixin.decorateServiceException(Object.assign(m,u,{$fault:l.getMergedTraits().error,message:d},h),s)}};var Rt=class extends wt{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}};var qa=/\d{12}\.ddb/;async function ns(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&V(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?V(e,"RETRY_MODE_ADAPTIVE","F"):V(e,"RETRY_MODE_STANDARD","E"):V(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(qa)&&V(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":V(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":V(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":V(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&V(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))V(e,i,a)}}var Or="user-agent",At="x-amz-user-agent";var os=/[^!$%&'*+\-.^_`|~\w]/g,ss=/[^!$%&'*+\-.^_`|~\w#]/g;function is(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=1024){t.length?t+=","+n:t+=n;continue}break}return t}var Wa=e=>(t,r)=>async n=>{let{request:o}=n;if(!_.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(bt)||[],a=(await e.defaultUserAgentProvider()).map(bt);await ns(r,e,n);let p=r;a.push(`m/${is(Object.assign({},r.__smithy_context?.features,p.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(bt)||[],l=await e.userAgentAppId();l&&a.push(bt(["app",`${l}`]));let d=po(),f=(d?[d]:[]).concat([...a,...i,...u]).join(" "),m=[...a.filter(h=>h.startsWith("aws-sdk-")),...u].join(" ");return e.runtime!=="browser"?(m&&(s[At]=s[At]?`${s[Or]} ${m}`:m),s[Or]=f):s[At]=f,t({...n,request:o})},bt=e=>{let t=e[0].split("/").map(i=>i.replace(os,"-")).join("/"),r=e[1]?.replace(ss,"-"),n=t.indexOf("/"),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,p)=>{switch(p){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},Ka={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},us=e=>({applyToStack:t=>{t.add(Wa(e),Ka)}});var ps=!1;var ds=!1;var fs=new Set,ls=(e,t=le)=>{if(!fs.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else fs.add(e)};var _t=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));var ms=e=>_t(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;var hs=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,o=ms(n);return ls(o),o},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return _t(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})};var gs="content-length";function Ya(e){return t=>async r=>{let n=r.request;if(_.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(gs)===-1)try{let i=e(o);n.headers={...n.headers,[gs]:String(i)}}catch{}}return t({...r,request:n})}}var Ja={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},ys=e=>({applyToStack:t=>{t.add(Ya(e.bodyLengthChecker),Ja)}});var xs=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),tc(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!ec(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Qa=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Xa=/(\d+\.){3}\d+/,Za=/\.\./;var ec=e=>Qa.test(e)&&!Xa.test(e)&&!Za.test(e),tc=e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i};var Ss=(e,t,r,n=!1)=>{let o=async()=>{let s;return n?s=r.clientContextParams?.[e]??r[e]??r[t]:s=r[e]??r[t],typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await o();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:a,port:p,path:u}=s;return`${i}//${a}${p?":"+p:""}${u}`}}return s}:o};var Tt=async e=>{};var vt=e=>typeof e=="object"?"url"in e?Te(e.url):e:Te(e);var Es=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await Tt(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(vt(i)),r.isCustomEndpoint=!0)}let o=await rc(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},rc=async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await Ss(i.name,s,r,i.type!=="builtInParams")();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await xs(n),n};var ws=({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&kn(n,"ENDPOINT_OVERRIDE","N");let s=await Es(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let p=F(n)?.selectedHttpAuthScheme?.httpAuthOption;p&&(p.signingProperties=Object.assign(p.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})};var nc={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:on.name},Ct=(e,t)=>({applyToStack:r=>{r.addRelativeTo(ws({config:e,instructions:t}),nc)}});var Rs=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>vt(await U(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:U(n??!1),useFipsEndpoint:U(o??!1)}),p;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!p&&(p=Tt(e.serviceId)),p),a};var Z;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Z||(Z={}));var xe=3,$r=Z.STANDARD;var As=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],bs=["TimeoutError","RequestTimeout","RequestTimeoutException"],_s=[500,502,503,504],Ts=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],vs=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"];var oc=e=>e?.$retryable!==void 0;var sc=e=>e.$metadata?.clockSkewCorrected,ic=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},Dt=e=>e.$metadata?.httpStatusCode===429||As.includes(e.name)||e.$retryable?.throttling==!0,It=(e,t=0)=>oc(e)||sc(e)||bs.includes(e.name)||Ts.includes(e?.code||"")||vs.includes(e?.code||"")||_s.includes(e.$metadata?.httpStatusCode||0)||ic(e)||e.cause!==void 0&&t<=10&&It(e.cause,t+1),Cs=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!It(e)}return!1};var Ot=class Ot{constructor(t){c(this,"beta");c(this,"minCapacity");c(this,"minFillRate");c(this,"scaleConstant");c(this,"smooth");c(this,"currentCapacity",0);c(this,"enabled",!1);c(this,"lastMaxRate",0);c(this,"measuredTxRate",0);c(this,"requestCount",0);c(this,"fillRate");c(this,"lastThrottleTime");c(this,"lastTimestamp",0);c(this,"lastTxRateBucket");c(this,"maxCapacity");c(this,"timeWindow",0);this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>Ot.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Dt(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};c(Ot,"setTimeoutFn",setTimeout);var Pt=Ot;var Ds="amz-sdk-invocation-id",Is="amz-sdk-request";var Os=()=>{let e=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};var Lr=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>r});var De=class{constructor(t){c(this,"maxAttempts");c(this,"mode",Z.STANDARD);c(this,"capacity",500);c(this,"retryBackoffStrategy",Os());c(this,"maxAttemptsProvider");this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Lr({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?500:100);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,Lr({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(500,this.capacity+(t.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${xe}`),xe}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?10:5}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};var Mt=class{constructor(t,r){c(this,"maxAttemptsProvider");c(this,"rateLimiter");c(this,"standardRetryStrategy");c(this,"mode",Z.ADAPTIVE);this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Pt,this.standardRetryStrategy=new De(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};var Ms=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);var $s=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=U(n??xe);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await U(r)()===Z.ADAPTIVE?new Mt(o):new De(o))})};var Ls=e=>e?.body instanceof ReadableStream;var uc=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(pc(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,p=0,u=0,{request:l}=n,d=_.isInstance(l);for(d&&(l.headers[Ds]=ke());;)try{d&&(l.headers[Is]=`attempt=${p+1}; max=${s}`);let{response:f,output:m}=await t(n);return o.recordSuccess(i),m.$metadata.attempts=p+1,m.$metadata.totalRetryDelay=u,{response:f,output:m}}catch(f){let m=dc(f);if(a=Ms(f),d&&Ls(l))throw(r.logger instanceof Ce?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,m)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=p+1,a.$metadata.totalRetryDelay=u,a}p=i.getRetryCount();let h=i.getRetryDelay();u+=h,await new Promise(g=>setTimeout(g,h))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},pc=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",dc=e=>{let t={error:e,errorType:fc(e)},r=mc(e.$response);return r&&(t.retryAfterHint=r),t},fc=e=>Dt(e)?"THROTTLING":It(e)?"TRANSIENT":Cs(e)?"SERVER_ERROR":"CLIENT_ERROR",lc={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Ns=e=>({applyToStack:t=>{t.add(uc(e),lc)}}),mc=e=>{if(!k.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};var ks=async(e,t,r)=>({operation:F(t).operation,region:await U(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function hc(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"textract",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var Us=e=>{let t=[];switch(e.operation){default:t.push(hc(e))}return t},Hs=e=>{let t=Fo(e);return Object.assign(t,{authSchemePreference:U(e.authSchemePreference??[])})};var Fs=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"textract"}),$t={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var js={name:"@aws-sdk/client-textract",description:"AWS SDK for JavaScript Textract Client for Node.js, Browser and React Native",version:"3.989.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-textract","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo textract","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.9","@aws-sdk/credential-provider-node":"^3.972.8","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.9","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.989.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.7","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.23.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.14","@smithy/middleware-retry":"^4.4.31","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.10","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.3","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.30","@smithy/util-defaults-mode-node":"^4.2.33","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-textract",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-textract"}};var Nr=e=>new TextEncoder().encode(e);var yc=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Nr;function ee(e){return e instanceof Uint8Array?e:typeof e=="string"?yc(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function Ie(e){return typeof e=="string"?e.length===0:e.byteLength===0}var kr={name:"SHA-256"},Ur={name:"HMAC",hash:kr},zs=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);var xc={};function Pe(){return typeof window<"u"?window:typeof self<"u"?self:xc}var Hr=(function(){function e(t){this.toHash=new Uint8Array(0),this.secret=t,this.reset()}return e.prototype.update=function(t){if(!Ie(t)){var r=ee(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return Pe().crypto.subtle.sign(Ur,r,t.toHash).then(function(n){return new Uint8Array(n)})}):Ie(this.toHash)?Promise.resolve(zs):Promise.resolve().then(function(){return Pe().crypto.subtle.digest(kr,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e.prototype.reset=function(){var t=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,n){Pe().crypto.subtle.importKey("raw",ee(t.secret),Ur,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))},e})();function Bs(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{u(n.next(l))}catch(d){i(d)}}function p(l){try{u(n.throw(l))}catch(d){i(d)}}function u(l){l.done?s(l.value):o(l.value).then(a,p)}u((n=n.apply(e,t||[])).next())})}function Gs(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(l){return p([u,l])}}function p(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var N=64,Vs=32,qs=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ws=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Ks=Math.pow(2,53)-1;var Be=(function(){function e(){this.state=Int32Array.from(Ws),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>Ks)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===N&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%N>=N-8){for(var o=this.bufferLength;o<N;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<N-8;o++)r.setUint8(o,0);r.setUint32(N-8,Math.floor(t/4294967296),!0),r.setUint32(N-4,t),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(Vs),o=0;o<8;o++)s[o*4]=this.state[o]>>>24&255,s[o*4+1]=this.state[o]>>>16&255,s[o*4+2]=this.state[o]>>>8&255,s[o*4+3]=this.state[o]>>>0&255;return s},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,o=n[0],s=n[1],i=n[2],a=n[3],p=n[4],u=n[5],l=n[6],d=n[7],f=0;f<N;f++){if(f<16)this.temp[f]=(r[f*4]&255)<<24|(r[f*4+1]&255)<<16|(r[f*4+2]&255)<<8|r[f*4+3]&255;else{var m=this.temp[f-2],h=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=this.temp[f-15];var g=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(g+this.temp[f-16]|0)}var y=(((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&u^~p&l)|0)+(d+(qs[f]+this.temp[f]|0)|0)|0,x=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&i^s&i)|0;d=l,l=u,u=p,p=a+y|0,a=i,i=s,s=o,o=y+x|0}n[0]+=o,n[1]+=s,n[2]+=i,n[3]+=a,n[4]+=p,n[5]+=u,n[6]+=l,n[7]+=d},e})();var Ys=(function(){function e(t){this.secret=t,this.hash=new Be,this.reset()}return e.prototype.update=function(t){if(!(Ie(t)||this.error))try{this.hash.update(ee(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Bs(this,void 0,void 0,function(){return Gs(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Be,this.secret){this.outer=new Be;var t=Sc(this.secret),r=new Uint8Array(N);r.set(t);for(var n=0;n<N;n++)t[n]^=54,r[n]^=92;this.hash.update(t),this.outer.update(r);for(var n=0;n<t.byteLength;n++)t[n]=0}},e})();function Sc(e){var t=ee(e);if(t.byteLength>N){var r=new Be;r.update(t),t=r.digest()}var n=new Uint8Array(N);return n.set(t),n}var Ec=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function Js(e){if(wc(e)&&typeof e.crypto.subtle=="object"){var t=e.crypto.subtle;return Rc(t)}return!1}function wc(e){if(typeof e=="object"&&typeof e.crypto=="object"){var t=e.crypto.getRandomValues;return typeof t=="function"}return!1}function Rc(e){return e&&Ec.every(function(t){return typeof e[t]=="function"})}var Qs=(function(){function e(t){Js(Pe())?this.hash=new Hr(t):this.hash=new Ys(t)}return e.prototype.update=function(t,r){this.hash.update(ee(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e})();var Zs=({serviceId:e,clientVersion:t})=>async r=>{let n=typeof window<"u"?window.navigator:void 0,o=n?.userAgent??"",s=n?.userAgentData?.platform??Xs.os(o)??"other",i=void 0,a=n?.userAgentData?.brands??[],p=a[a.length-1],u=p?.brand??Xs.browser(o)??"unknown",l=p?.version??"unknown",d=[["aws-sdk-js",t],["ua","2.1"],[`os/${s}`,i],["lang/js"],["md/browser",`${u}_${l}`]];e&&d.push([`api/${e}`,t]);let f=await r?.userAgentAppId?.();return f&&d.push([`app/${f}`]),d},Xs={os(e){if(/iPhone|iPad|iPod/.test(e))return"iOS";if(/Macintosh|Mac OS X/.test(e))return"macOS";if(/Windows NT/.test(e))return"Windows";if(/Android/.test(e))return"Android";if(/Linux/.test(e))return"Linux"},browser(e){if(/EdgiOS|EdgA|Edg\//.test(e))return"Microsoft Edge";if(/Firefox\//.test(e))return"Firefox";if(/Chrome\//.test(e))return"Chrome";if(/Safari\//.test(e))return"Safari"}};var ei=e=>()=>Promise.reject(e);var ti=["in-region","cross-region","mobile","standard","legacy"];var ri=({defaultsMode:e}={})=>go(async()=>{let t=typeof e=="function"?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve(Ac()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${ti.join(", ")}, got ${t}`)}}),Ac=()=>{let e=window?.navigator;if(e?.connection){let{effectiveType:t,rtt:r,downlink:n}=e?.connection;if(typeof t=="string"&&t!=="4g"||Number(r)>100||Number(n)<10)return!0}return e?.userAgentData?.mobile||typeof e?.maxTouchPoints=="number"&&e?.maxTouchPoints>1};G();var fi="required";var J="argv";var ni="isSet",Ve="booleanEquals",Oe="error",Ge="endpoint",te="tree",Fr="PartitionResult",oi={[fi]:!1,type:"string"},si={[fi]:!0,default:!1,type:"boolean"},ii={ref:"Endpoint"},li={fn:Ve,[J]:[{ref:"UseFIPS"},!0]},mi={fn:Ve,[J]:[{ref:"UseDualStack"},!0]},Y={},ai={fn:"getAttr",[J]:[{ref:Fr},"supportsFIPS"]},ci={fn:Ve,[J]:[!0,{fn:"getAttr",[J]:[{ref:Fr},"supportsDualStack"]}]},ui=[li],pi=[mi],di=[{ref:"Region"}],bc={version:"1.0",parameters:{Region:oi,UseDualStack:si,UseFIPS:si,Endpoint:oi},rules:[{conditions:[{fn:ni,[J]:[ii]}],rules:[{conditions:ui,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Oe},{conditions:pi,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Oe},{endpoint:{url:ii,properties:Y,headers:Y},type:Ge}],type:te},{conditions:[{fn:ni,[J]:di}],rules:[{conditions:[{fn:"aws.partition",[J]:di,assign:Fr}],rules:[{conditions:[li,mi],rules:[{conditions:[{fn:Ve,[J]:[!0,ai]},ci],rules:[{endpoint:{url:"https://textract-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Y,headers:Y},type:Ge}],type:te},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Oe}],type:te},{conditions:ui,rules:[{conditions:[{fn:Ve,[J]:[ai,!0]}],rules:[{endpoint:{url:"https://textract-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Y,headers:Y},type:Ge}],type:te},{error:"FIPS is enabled but this partition does not support FIPS",type:Oe}],type:te},{conditions:pi,rules:[{conditions:[ci],rules:[{endpoint:{url:"https://textract.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Y,headers:Y},type:Ge}],type:te},{error:"DualStack is enabled but this partition does not support DualStack",type:Oe}],type:te},{endpoint:{url:"https://textract.{Region}.{PartitionResult#dnsSuffix}",properties:Y,headers:Y},type:Ge}],type:te}],type:te},{error:"Invalid Configuration: Missing Region",type:Oe}]},hi=bc;var _c=new tt({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),gi=(e,t={})=>_c.get(e,()=>io(hi,{endpointParams:e,logger:t.logger}));me.aws=gr;var b=class e extends mt{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};var Lt=class e extends b{constructor(r){super({name:"AccessDeniedException",$fault:"client",...r});c(this,"name","AccessDeniedException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},Nt=class e extends b{constructor(r){super({name:"BadDocumentException",$fault:"client",...r});c(this,"name","BadDocumentException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},kt=class e extends b{constructor(r){super({name:"DocumentTooLargeException",$fault:"client",...r});c(this,"name","DocumentTooLargeException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},Ut=class e extends b{constructor(r){super({name:"HumanLoopQuotaExceededException",$fault:"client",...r});c(this,"name","HumanLoopQuotaExceededException");c(this,"$fault","client");c(this,"ResourceType");c(this,"QuotaCode");c(this,"ServiceCode");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.ResourceType=r.ResourceType,this.QuotaCode=r.QuotaCode,this.ServiceCode=r.ServiceCode,this.Message=r.Message,this.Code=r.Code}},Ht=class e extends b{constructor(r){super({name:"InternalServerError",$fault:"server",...r});c(this,"name","InternalServerError");c(this,"$fault","server");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},Ft=class e extends b{constructor(r){super({name:"InvalidParameterException",$fault:"client",...r});c(this,"name","InvalidParameterException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},jt=class e extends b{constructor(r){super({name:"InvalidS3ObjectException",$fault:"client",...r});c(this,"name","InvalidS3ObjectException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},zt=class e extends b{constructor(r){super({name:"ProvisionedThroughputExceededException",$fault:"client",...r});c(this,"name","ProvisionedThroughputExceededException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},Bt=class e extends b{constructor(r){super({name:"ThrottlingException",$fault:"server",...r});c(this,"name","ThrottlingException");c(this,"$fault","server");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},Gt=class e extends b{constructor(r){super({name:"UnsupportedDocumentException",$fault:"client",...r});c(this,"name","UnsupportedDocumentException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},Vt=class e extends b{constructor(r){super({name:"ConflictException",$fault:"client",...r});c(this,"name","ConflictException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},qt=class e extends b{constructor(r){super({name:"IdempotentParameterMismatchException",$fault:"client",...r});c(this,"name","IdempotentParameterMismatchException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},Wt=class e extends b{constructor(r){super({name:"LimitExceededException",$fault:"client",...r});c(this,"name","LimitExceededException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},Kt=class e extends b{constructor(r){super({name:"ServiceQuotaExceededException",$fault:"client",...r});c(this,"name","ServiceQuotaExceededException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},Yt=class e extends b{constructor(r){super({name:"ValidationException",$fault:"client",...r});c(this,"name","ValidationException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},Jt=class e extends b{constructor(r){super({name:"InvalidKMSKeyException",$fault:"client",...r});c(this,"name","InvalidKMSKeyException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},Qt=class e extends b{constructor(r){super({name:"ResourceNotFoundException",$fault:"client",...r});c(this,"name","ResourceNotFoundException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}},Xt=class e extends b{constructor(r){super({name:"InvalidJobIdException",$fault:"client",...r});c(this,"name","InvalidJobIdException");c(this,"$fault","client");c(this,"Message");c(this,"Code");Object.setPrototypeOf(this,e.prototype),this.Message=r.Message,this.Code=r.Code}};var Tc="Adapter",yi="AdaptersConfig";var vc="AnalyzeDocument",Cc="AccessDeniedException",Dc="AnalyzeDocumentModelVersion",Ic="AnalyzeDocumentRequest",Pc="AnalyzeDocumentResponse";var Oc="AdapterId";var xi="Adapters",Mc="Alias";var Si="BoundingBox";var $c="BadDocumentException",Lc="BlockList",Nc="BlockType",Ei="Blocks",kc="Block",Uc="Bucket",Hc="Bytes",C="Code";var Fc="ContentClassifiers",jc="ConflictException",zc="ColumnIndex";var Bc="ColumnSpan";var Gc="Confidence";var jr="Document",Vc="DataAttributes";var qc="DetectDocumentText",Wc="DetectDocumentTextModelVersion",Kc="DetectDocumentTextRequest",Yc="DetectDocumentTextResponse";var zr="DocumentMetadata";var Jc="DocumentTooLargeException";var Qc="EntityTypes";var Xc="FlowDefinitionArn";var Zc="FeatureTypes";var wi="Geometry";var eu="Height",tu="HumanLoopArn",ru="HumanLoopActivationConditionsEvaluationResults",Ri="HumanLoopActivationOutput",nu="HumanLoopActivationReasons",Ai="HumanLoopConfig",ou="HumanLoopDataAttributes",su="HumanLoopName",iu="HumanLoopQuotaExceededException",au="Id";var cu="InvalidJobIdException",uu="InvalidKMSKeyException",pu="InvalidParameterException",du="IdempotentParameterMismatchException",fu="InternalServerError",lu="InvalidS3ObjectException",mu="Ids";var hu="Left";var gu="LimitExceededException";var D="Message";var yu="Name";var Br="Pages";var xu="ProvisionedThroughputExceededException",Su="Page",bi="Polygon",Eu="Point";var _i="Query",wu="QuotaCode",Ti="QueriesConfig",vi="Queries",Ru="Relationships",Au="RotationAngle";var bu="RowIndex",_u="RelationshipList",Tu="ResourceNotFoundException",vu="RowSpan",Cu="ResourceType";var Du="Relationship";var Iu="ServiceCode";var Pu="SynthesizedJsonHumanLoopActivationConditionsEvaluationResults";var Ci="S3Object";var Ou="ServiceQuotaExceededException",Mu="SelectionStatus";var Di="Text",$u="ThrottlingException";var Lu="TextType";var Nu="Top",ku="Type";var Uu="UnsupportedDocumentException";var Ii="Version";var Hu="ValidationException";var Fu="Width";var ju="X",zu="Y",Bu="application/json",M="client",I="error",Gu="httpError",Vu="mediaType",Pi="smithy.ts.sdk.synthetic.com.amazonaws.textract",Oi="server",E="com.amazonaws.textract",Mi=z.for(Pi),qu=[-3,Pi,"TextractServiceException",0,[],[]];Mi.registerError(qu,b);var v=z.for(E),Wu=[-3,E,Cc,{[I]:M},[D,C],[0,0]];v.registerError(Wu,Lt);var Ku=[-3,E,$c,{[I]:M},[D,C],[0,0]];v.registerError(Ku,Nt);var Yu=[-3,E,jc,{[I]:M},[D,C],[0,0]];v.registerError(Yu,Vt);var Ju=[-3,E,Jc,{[I]:M},[D,C],[0,0]];v.registerError(Ju,kt);var Qu=[-3,E,iu,{[I]:M,[Gu]:402},[Cu,wu,Iu,D,C],[0,0,0,0,0]];v.registerError(Qu,Ut);var Xu=[-3,E,du,{[I]:M},[D,C],[0,0]];v.registerError(Xu,qt);var Zu=[-3,E,fu,{[I]:Oi},[D,C],[0,0]];v.registerError(Zu,Ht);var ep=[-3,E,cu,{[I]:M},[D,C],[0,0]];v.registerError(ep,Xt);var tp=[-3,E,uu,{[I]:M},[D,C],[0,0]];v.registerError(tp,Jt);var rp=[-3,E,pu,{[I]:M},[D,C],[0,0]];v.registerError(rp,Ft);var np=[-3,E,lu,{[I]:M},[D,C],[0,0]];v.registerError(np,jt);var op=[-3,E,gu,{[I]:M},[D,C],[0,0]];v.registerError(op,Wt);var sp=[-3,E,xu,{[I]:M},[D,C],[0,0]];v.registerError(sp,zt);var ip=[-3,E,Tu,{[I]:M},[D,C],[0,0]];v.registerError(ip,Qt);var ap=[-3,E,Ou,{[I]:M},[D,C],[0,0]];v.registerError(ap,Kt);var cp=[-3,E,$u,{[I]:Oi},[D,C],[0,0]];v.registerError(cp,Bt);var up=[-3,E,Uu,{[I]:M},[D,C],[0,0]];v.registerError(up,Gt);var pp=[-3,E,Hu,{[I]:M},[D,C],[0,0]];v.registerError(pp,Yt);var $i=[Mi,v],dp=[0,E,Pu,{[Vu]:Bu},0],fp=[3,E,Tc,0,[Oc,Ii,Br],[0,0,64],2];var lp=[3,E,yi,0,[xi],[()=>Cp],1];var mp=[3,E,Ic,0,[jr,Zc,Ai,Ti,yi],[()=>Li,64,()=>Rp,()=>_p,()=>lp],2],hp=[3,E,Pc,0,[zr,Ei,Ri,Dc],[()=>Ni,()=>Ui,[()=>wp,0],0]];var gp=[3,E,kc,0,[Nc,Gc,Di,Lu,bu,zc,vu,Bc,wi,au,Ru,Qc,Mu,Su,_i],[0,1,0,0,1,1,1,1,()=>Ep,0,()=>Pp,64,0,1,()=>ki]],yp=[3,E,Si,0,[Fu,eu,hu,Nu],[1,1,1,1]];var xp=[3,E,Kc,0,[jr],[()=>Li],1],Sp=[3,E,Yc,0,[zr,Ei,Wc],[()=>Ni,()=>Ui,0]];var Li=[3,E,jr,0,[Hc,Ci],[21,()=>vp]];var Ni=[3,E,zr,0,[Br],[1]];var Ep=[3,E,wi,0,[Si,bi,Au],[()=>yp,()=>Dp,1]];var wp=[3,E,Ri,0,[tu,nu,ru],[0,64,[()=>dp,0]]],Rp=[3,E,Ai,0,[su,Xc,Vc],[0,0,()=>Ap],2],Ap=[3,E,ou,0,[Fc],[64]];var bp=[3,E,Eu,0,[ju,zu],[1,1]];var _p=[3,E,Ti,0,[vi],[()=>Ip],1],ki=[3,E,_i,0,[Di,Mc,Br],[0,0,64],1],Tp=[3,E,Du,0,[ku,mu],[0,64]],vp=[3,E,Ci,0,[Uc,yu,Ii],[0,0,0]];var Cp=[1,E,xi,0,()=>fp];var Ui=[1,E,Lc,0,()=>gp];var Dp=[1,E,bi,0,()=>bp];var Ip=[1,E,vi,0,()=>ki];var Pp=[1,E,_u,0,()=>Tp];var Hi=[9,E,vc,0,()=>mp,()=>hp];var Fi=[9,E,qc,0,()=>xp,()=>Sp];var ji=e=>({apiVersion:"2018-06-27",base64Decoder:e?.base64Decoder??ne,base64Encoder:e?.base64Encoder??de,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??gi,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Us,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Fe}],logger:e?.logger??new Ce,protocol:e?.protocol??Rt,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.textract",errorTypeRegistries:$i,version:"2018-06-27",serviceTarget:"Textract"},serviceId:e?.serviceId??"Textract",urlParser:e?.urlParser??Te,utf8Decoder:e?.utf8Decoder??H,utf8Encoder:e?.utf8Encoder??oe});var zi=e=>{let t=ri(e),r=()=>t().then(Vo),n=ji(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??zo,credentialDefaultProvider:e?.credentialDefaultProvider??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??Zs({serviceId:n.serviceId,clientVersion:js.version}),maxAttempts:e?.maxAttempts??xe,region:e?.region??ei("Region is missing"),requestHandler:qe.create(e?.requestHandler??r),retryMode:e?.retryMode??(async()=>(await r()).retryMode||$r),sha256:e?.sha256??Qs,streamCollector:e?.streamCollector??hn,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(ps)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(ds))}};var Bi=e=>({setRegion(t){e.region=t},region(){return e.region}}),Gi=e=>({region:e.region()});var Vi=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},qi=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});var Wi=(e,t)=>{let r=Object.assign(Bi(e),Jo(e),Kr(e),Vi(e));return t.forEach(n=>n.configure(r)),Object.assign(e,Gi(r),Qo(r),Yr(r),qi(r))};var Gr=class extends ft{constructor(...[r]){let n=zi(r||{});super(n);c(this,"config");this.initConfig=n;let o=Fs(n),s=Fn(o),i=$s(s),a=hs(i),p=a,u=Rs(p),l=Hs(u),d=Wi(l,r?.extensions||[]);this.config=d,this.middlewareStack.use(En(this.config)),this.middlewareStack.use(us(this.config)),this.middlewareStack.use(Ns(this.config)),this.middlewareStack.use(ys(this.config)),this.middlewareStack.use(Jr(this.config)),this.middlewareStack.use(Qr(this.config)),this.middlewareStack.use(en(this.config)),this.middlewareStack.use(nn(this.config,{httpAuthSchemeParametersProvider:ks,identityProviderConfigProvider:async f=>new et({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(an(this.config))}destroy(){super.destroy()}};var Vr=class extends ye.classBuilder().ep($t).m(function(t,r,n,o){return[Ct(n,t.getEndpointParameterInstructions())]}).s("Textract","AnalyzeDocument",{}).n("TextractClient","AnalyzeDocumentCommand").sc(Hi).build(){};var qr=class extends ye.classBuilder().ep($t).m(function(t,r,n,o){return[Ct(n,t.getEndpointParameterInstructions())]}).s("Textract","DetectDocumentText",{}).n("TextractClient","DetectDocumentTextCommand").sc(Fi).build(){};export{Vr as AnalyzeDocumentCommand,qr as DetectDocumentTextCommand,Gr as TextractClient};
